
<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h5>Repair Jig</h5>

    </div>
    <div class="card-body">
        <table id="tblRepair" class="table table-bordered table-striped">
            <thead>
                <tr>
                    <th>Repair ID</th>
                    <th>Jig code</th>
                    <th>Jig Name</th>
                    <th>Model</th>
                    <th>Version</th>
                    <th>Type</th>
                    <th>Problem</th>
                    <th>Date</th>
                    <th>Status</th>
                    <th>Action</th>
                </tr>
            </thead>
        </table>
    </div>
    <button class="btn-danger"></button>
</div>



<script>
    $(document).ready(function () {

        var table = $('#tblRepair').DataTable({
            ajax: '/RepairMaintenance/GetRepair',
            columns: [
                { data: 'RepairID' },
                { data: 'JigCode' },
                { data: 'JigName' },
                { data: 'Model' },
                { data: 'Version' },
                { data: 'Type' },
                { data: 'Problem' },

                {
                    data: 'RepairDate',

                    render: function (data) {
                        if (!data) return '';
                        var timestamp = parseInt(data.replace(/\/Date\((\d+)\)\//, '$1'));
                        var date = new Date(timestamp);
                        return date.toLocaleDateString('vi-VN', {
                            year: 'numeric',
                            month: '2-digit',
                            day: '2-digit',
                            hour: '2-digit',
                            minute: '2-digit'
                        });
                    }
                },

                { data: 'Status' },
                {
                    data: null,
                    render: function (data) {
                        return `<a href="/RepairMaintenance/RepairDetail?id=${data.RepairID}" 
           class="btn btn-sm btn-primary">
           <i class="fe fe-tool"></i> Repair
        </a>`;
                    }
                }
            ]
        });

        // Xử lý khi nhấn Approve
        $('#tblRepair').on('click', '.btnApprove', function () {
            const id = $(this).data('id');
            const $btn = $(this);

        });

    });
</script>